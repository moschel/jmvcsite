
(function(){var e=function(b){return b!==undefined?(this.array[0]=b):this.array[0]},f=function(b){return b!==undefined?(this.array[1]=b):this.array[1]};jQuery.Vector=function(){this.update(jQuery.makeArray(arguments))};jQuery.Vector.prototype={app:function(b){for(var a=[],d=0;d<this.array.length;d++)a.push(b(this.array[d]));return(new jQuery.Vector).update(a)},plus:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),d=new jQuery.Vector,
c=0;c<b.length;c++)a[c]=(a[c]?a[c]:0)+b[c];return d.update(a)},minus:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),d=new jQuery.Vector,c=0;c<b.length;c++)a[c]=(a[c]?a[c]:0)-b[c];return d.update(a)},equals:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),d=new jQuery.Vector,c=0;c<b.length;c++)if(a[c]!=b[c])return null;return d.update(a)},x:e,
width:e,y:f,height:f,top:f,left:e,toString:function(){return"("+this.array[0]+","+this.array[1]+")"},update:function(b){if(this.array)for(var a=0;a<this.array.length;a++)delete this.array[a];this.array=b;for(a=0;a<b.length;a++)this[a]=this.array[a];return this}};jQuery.Event.prototype.vector=function(){if(this.originalEvent.synthetic){var b=document.documentElement,a=document.body;return new jQuery.Vector(this.clientX+(b&&b.scrollLeft||a&&a.scrollLeft||0)-(b.clientLeft||0),this.clientY+(b&&b.scrollTop||
a&&a.scrollTop||0)-(b.clientTop||0))}else return new jQuery.Vector(this.pageX,this.pageY)};jQuery.fn.offsetv=function(){if(this[0]==window)return new jQuery.Vector(window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop);else{var b=this.offset();return new jQuery.Vector(b.left,b.top)}};jQuery.fn.dimensionsv=function(){return this[0]==window?new jQuery.Vector(this.width(),this.height()):new jQuery.Vector(this.outerWidth(),
this.outerHeight())};jQuery.fn.centerv=function(){return this.offsetv().plus(this.dimensionsv().app(function(b){return b/2}))};jQuery.fn.makePositioned=function(){return this.each(function(){var b=jQuery(this),a=b.css("position");if(!a||a=="static"){a={position:"relative"};if(window.opera){a.top="0px";a.left="0px"}b.css(a)}})}})(jQuery);
(function(){var g=jQuery.event,l=function(b,d,e){for(var f=0;f<d.length;f++){var c=d[f],a,h=c.indexOf(".")<0,i;if(!h){a=c.split(".");c=a.shift();i=new RegExp("(^|\\.)"+a.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}a=(b[c]||[]).slice(0);for(var k=0;k<a.length;k++){var j=a[k];if(!j.selector&&(h||i.test(j.namespace)))e(c,j.origHandler||j.handler)}}};g.find=function(b,d,e){b=$.data(b,"events");var f=[];if(!b)return f;if(e){if(!b.live)return[];b=b.live;for(var c=0;c<b.length;c++){var a=b[c];if(a.selector===
e&&$.inArray(a.origType,d)!==-1)f.push(a.origHandler||a.handler)}}else l(b,d,function(h,i){f.push(i)});return f};g.findBySelector=function(b,d){b=$.data(b,"events");var e={},f=function(c,a,h){c=e[c]||(e[c]={});(c[a]||(c[a]=[])).push(h)};if(!b)return e;$.each(b.live||[],function(c,a){if($.inArray(a.origType,d)!==-1)f(a.selector,a.origType,a.origHandler||a.handler)});l(b,d,function(c,a){f("",c,a)});return e};$.fn.respondsTo=function(b){return this.length?g.find(this[0],$.isArray(b)?b:[b]).length>0:
false};$.fn.triggerHandled=function(b,d){b=typeof b=="string"?$.Event(b):b;this.trigger(b,d);return b.handled};g.setupHelper=function(b,d,e){if(!e){e=d;d=null}var f=function(a){if(a=a.selector||"")g.find(this,b,a).length||$(this).delegate(a,d,e);else g.find(this,b,a).length||g.add(this,d,e,{selector:a,delegate:this})},c=function(a){if(a=a.selector||"")g.find(this,b,a).length||$(this).undelegate(a,d,e);else g.find(this,b,a).length||g.remove(this,d,e,{selector:a,delegate:this})};$.each(b,function(){g.special[this]=
{add:f,remove:c,setup:function(){},teardown:function(){}}})}})(jQuery);
(function(c){var h=function(a,b){var d=Array.prototype.slice.call(arguments,2);return function(){var e=[this].concat(d,c.makeArray(arguments));return b.apply(a,e)}},g=c.event;c.Drag=function(){};c.extend(c.Drag,{lowerName:"drag",current:null,mousedown:function(a,b){if(!(!(a.button==0||a.button==1)||this.current)){var d=new c.Drag,e=a.liveFired||b,f=a.handleObj.selector,i=this;this.current=d;d.setup({element:b,delegate:a.liveFired||b,selector:a.handleObj.selector,moved:false,callbacks:{dragdown:g.find(e,
["dragdown"],f),draginit:g.find(e,["draginit"],f),dragover:g.find(e,["dragover"],f),dragmove:g.find(e,["dragmove"],f),dragout:g.find(e,["dragout"],f),dragend:g.find(e,["dragend"],f)},destroyed:function(){i.current=null}},a)}}});c.extend(c.Drag.prototype,{setup:function(a,b){c.extend(this,a);this.element=c(this.element);this.event=b;this.allowOtherDrags=this.moved=false;a=h(this,this.mousemove);var d=h(this,this.mouseup);this._mousemove=a;this._mouseup=d;c(document).bind("mousemove",a);c(document).bind("mouseup",
d);this.callEvents("down",this.element,b)||b.preventDefault()},destroy:function(){c(document).unbind("mousemove",this._mousemove);c(document).unbind("mouseup",this._mouseup);if(!this.moved)this.event=this.element=null;this.destroyed()},mousemove:function(a,b){if(!this.moved){this.init(this.element,b);this.moved=true}a=b.vector();this._start_position&&this._start_position.equals(a)||this.draw(a,b)},mouseup:function(a,b){this.moved&&this.end(b);this.destroy()},noSelection:function(){document.documentElement.onselectstart=
function(){return false};document.documentElement.unselectable="on";c(document.documentElement).css("-moz-user-select","none")},selection:function(){document.documentElement.onselectstart=function(){};document.documentElement.unselectable="off";c(document.documentElement).css("-moz-user-select","")},init:function(a,b){a=c(a);var d=this.movingElement=this.element=c(a);this._cancelled=false;this.event=b;this.mouseStartPosition=b.vector();this.mouseElementPosition=this.mouseStartPosition.minus(this.element.offsetv());
this.callEvents("init",a,b);if(this._cancelled!=true){this.startPosition=d!=this.movingElement?this.movingElement.offsetv():this.currentDelta();this.movingElement.makePositioned();this.oldZIndex=this.movingElement.css("zIndex");this.movingElement.css("zIndex",1E3);!this._only&&this.constructor.responder&&this.constructor.responder.compile(b,this)}},callEvents:function(a,b,d,e){a=this.callbacks[this.constructor.lowerName+a];for(var f=0;f<a.length;f++)a[f].call(b,d,this,e);return a.length},currentDelta:function(){return new c.Vector(parseInt(this.movingElement.css("left"))||
0,parseInt(this.movingElement.css("top"))||0)},draw:function(a,b){if(!this._cancelled){this.location=a.minus(this.mouseElementPosition);this.move(b);if(!this._cancelled){b.isDefaultPrevented()||this.position(this.location);!this._only&&this.constructor.responder&&this.constructor.responder.show(a,this,b)}}},position:function(a){var b=this.movingElement.offsetv(),d=this.currentDelta();b=b.minus(d);this.required_css_position=a.minus(b);a=this.movingElement[0].style;if(!this._cancelled&&!this._horizontal)a.top=
this.required_css_position.top()+"px";if(!this._cancelled&&!this._vertical)a.left=this.required_css_position.left()+"px"},move:function(a){this.callEvents("move",this.element,a)},over:function(a,b){this.callEvents("over",this.element,a,b)},out:function(a,b){this.callEvents("out",this.element,a,b)},end:function(a){if(!this._cancelled){!this._only&&this.constructor.responder&&this.constructor.responder.end(a,this);this.callEvents("end",this.element,a);if(this._revert){var b=this;this.movingElement.animate({top:this.startPosition.top()+
"px",left:this.startPosition.left()+"px"},function(){b.cleanup.apply(b,arguments)})}else this.cleanup();this.event=null}},cleanup:function(){this.movingElement.css({zIndex:this.oldZIndex});this.movingElement[0]!==this.element[0]&&this.movingElement.css({display:"none"});this._removeMovingElement&&this.movingElement.remove();this.movingElement=this.element=this.event=null},cancel:function(){this._cancelled=true;!this._only&&this.constructor.responder&&this.constructor.responder.clear(this.event.vector(),
this,this.event);this.destroy()},ghost:function(a){var b=this.movingElement.clone().css("position","absolute");(a?c(a):this.movingElement).after(b);b.width(this.movingElement.width()).height(this.movingElement.height());this.movingElement=b;this._removeMovingElement=true;return b},representative:function(a,b,d){this._offsetX=b||0;this._offsetY=d||0;b=this.mouseStartPosition;this.movingElement=c(a);this.movingElement.css({top:b.y()-this._offsetY+"px",left:b.x()-this._offsetX+"px",display:"block",position:"absolute"}).show();
this.mouseElementPosition=new c.Vector(this._offsetX,this._offsetY)},revert:function(a){this._revert=a==null?true:a},vertical:function(){this._vertical=true},horizontal:function(){this._horizontal=true},only:function(a){return this._only=a===undefined?true:a}});g.setupHelper(["dragdown","draginit","dragover","dragmove","dragout","dragend"],"mousedown",function(a){c.Drag.mousedown.call(c.Drag,a,this)})})(jQuery);
(function(e){e.Drag.prototype.limit=function(a){this._limit={offset:a.offsetv(),size:a.dimensionsv()}};var f=e.Drag.prototype.position;e.Drag.prototype.position=function(a){if(this._limit){var b=this.movingElement.dimensionsv(),c=this._limit.offset.top(),d=this._limit.offset.left();height=this._limit.size.height();width=this._limit.size.width();a.top()<c&&a.top(c);a.top()+b.height()>c+height&&a.top(c+height-b.height());a.left()<d&&a.left(d);a.left()+b.width()>d+width&&a.left(d+width-b.left())}f.call(this,
a)}})(jQuery);

(function(i){var j=function(b,c,e,d,a,g){return c>=d&&c<d+g&&b>=e&&b<e+a};i.fn.within=function(b,c,e){var d=[];this.each(function(){var a=jQuery(this);if(this==document.documentElement)return d.push(this);a=e?jQuery.data(this,"offset",a.offset()):a.offset();j(b,c,a.left,a.top,this.offsetWidth,this.offsetHeight)&&d.push(this)});return this.pushStack(jQuery.unique(d),"within",b+","+c)};i.fn.withinBox=function(b,c,e,d,a){var g=[];this.each(function(){var f=jQuery(this);if(this==document.documentElement)return this.ret.push(this);
var h=a?jQuery.data(this,"offset",f.offset()):f.offset(),k=f.width();f=f.height();(res=!(h.top>c+d||h.top+f<c||h.left>b+e||h.left+k<b))&&g.push(this)});return this.pushStack(jQuery.unique(g),"withinBox",jQuery.makeArray(arguments).join(","))}})(jQuery);
(function(){jQuery.fn.compare=function(a){try{a=a.jquery?a[0]:a}catch(e){return null}if(window.HTMLElement){var b=HTMLElement.prototype.toString.call(a);if(b=="[xpconnect wrapped native prototype]"||b=="[object XULElement]")return null}if(this[0].compareDocumentPosition)return this[0].compareDocumentPosition(a);if(this[0]==document&&a!=document)return 8;b=(this[0]!==a&&this[0].contains(a)&&16)+(this[0]!=a&&a.contains(this[0])&&8);var c=document.documentElement;if(this[0].sourceIndex){b+=this[0].sourceIndex<
a.sourceIndex&&4;b+=this[0].sourceIndex>a.sourceIndex&&2;b+=(this[0].ownerDocument!==a.ownerDocument||this[0]!=c&&this[0].sourceIndex<=0||a!=c&&a.sourceIndex<=0)&&1}else{c=document.createRange();var d=document.createRange();c.selectNode(this[0]);d.selectNode(a);c.compareBoundaryPoints(Range.START_TO_START,d)}return b}})(jQuery);
(function(f){var m=f.event,k=["dropover","dropon","dropout","dropinit","dropmove","dropend"];f.Drop=function(a,b){jQuery.extend(this,a);this.element=b};f.each(k,function(){m.special[this]={add:function(){var a=f(this),b=a.data("dropEventCount")||0;a.data("dropEventCount",b+1);b==0&&f.Drop.addElement(this)},remove:function(){var a=f(this),b=a.data("dropEventCount")||0;a.data("dropEventCount",b-1);b<=1&&f.Drop.removeElement(this)}}});f.extend(f.Drop,{lowerName:"drop",_elements:[],_responders:[],last_active:[],
endName:"dropon",addElement:function(a){for(var b=0;b<this._elements.length;b++)if(a==this._elements[b])return;this._elements.push(a)},removeElement:function(a){for(var b=0;b<this._elements.length;b++)if(a==this._elements[b]){this._elements.splice(b,1);return}},sortByDeepestChild:function(a,b){a=a.element.compare(b.element);if(a&16||a&4)return 1;if(a&8||a&2)return-1;return 0},isAffected:function(a,b,c){return c.element!=b.element&&c.element.within(a[0],a[1],c).length==1},deactivate:function(a,b,c){b.out(c,
a);a.callHandlers(this.lowerName+"out",a.element[0],c,b)},activate:function(a,b,c){b.over(c,a);a.callHandlers(this.lowerName+"over",a.element[0],c,b)},move:function(a,b,c){a.callHandlers(this.lowerName+"move",a.element[0],c,b)},compile:function(a,b){var c,d,g,e;this.last_active=[];for(var i=0;i<this._elements.length;i++){c=this._elements[i];d=f.event.findBySelector(c,k);for(g in d){e=g?jQuery(g,c):[c];for(var h=0;h<e.length;h++){jQuery.removeData(e[h],"offset");this.add(e[h],new this(d[g]),a,b)}}}},
add:function(a,b,c,d){a=jQuery(a);b=new f.Drop(b,a);b.callHandlers(this.lowerName+"init",a[0],c,d);b._canceled||this._responders.push(b)},show:function(a,b,c){if(this._responders.length){var d=[],g=true,e,i,h,j,l=this.last_active;for(e=0;e<this._responders.length;e++)this.isAffected(a,b,this._responders[e])&&d.push(this._responders[e]);d.sort(this.sortByDeepestChild);c.stopRespondPropagate=function(){g=false};h=d.slice();this.last_active=d;for(e=0;e<l.length;e++){i=l[e];for(a=0;j=h[a];)if(i==j){h.splice(a,
1);break}else a++;j||this.deactivate(i,b,c);if(!g)return}for(a=0;a<h.length;a++){this.activate(h[a],b,c);if(!g)return}for(a=0;a<d.length;a++){this.move(d[a],b,c);if(!g)return}}},end:function(a,b){var c;for(c=0;c<this._responders.length;c++)this._responders[c].callHandlers(this.lowerName+"end",null,a,b);for(var d=0;d<this.last_active.length;d++){c=this.last_active[d];this.isAffected(a.vector(),b,c)&&c[this.endName]&&c.callHandlers(this.endName,null,a,b)}this.clear()},clear:function(){this._responders=
[]}});f.Drag.responder=f.Drop;f.extend(f.Drop.prototype,{callHandlers:function(a,b,c,d){for(var g=this[a]?this[a].length:0,e=0;e<g;e++)this[a][e].call(b||this.element[0],c,this,d)},cache:function(a){this._cache=a!=null?a:true},cancel:function(){this._canceled=true}})})(jQuery);
(function(e){e.Drag.prototype.scrolls=function(a){for(var b=0;b<a.length;b++)this.constructor.responder._responders.push(new e.Scrollable(a[b]))};e.Scrollable=function(a){this.element=jQuery(a)};e.extend(e.Scrollable.prototype,{init:function(a){this.element=jQuery(a)},callHandlers:function(a,b,c,f){this[a](b||this.element[0],c,this,f)},dropover:function(){},dropon:function(){this.clear_timeout()},dropout:function(){this.clear_timeout()},dropinit:function(){},dropend:function(){},clear_timeout:function(){if(this.interval){clearTimeout(this.interval);
this.interval=null}},distance:function(a){return(30-a)/2},dropmove:function(a,b,c,f){this.clear_timeout();c=b.vector();var d=e(a==document.documentElement?window:a),g=d.dimensionsv(),h=d.offsetv();d=h.y()+g.y()-c.y();var k=c.y()-h.y();g=h.x()+g.x()-c.x();c=c.x()-h.x();var i=0,j=0;if(d<30)j=this.distance(d);else if(k<30)j=-this.distance(k);if(g<30)i=this.distance(g);else if(c<30)i=-this.distance(c);if(i||j){var l=this;this.interval=setTimeout(function(){l.move(e(a),f.movingElement,i,j,b,b.clientX,
b.clientY,b.screenX,b.screenY)},15)}},move:function(a,b,c,f,d){a.scrollTop(a.scrollTop()+f);a.scrollLeft(a.scrollLeft()+c);b.trigger(e.event.fix({type:"mousemove",clientX:d.clientX,clientY:d.clientY,screenX:d.screenX,screenY:d.screenY,pageX:d.pageX,pageY:d.pageY}))}})})(jQuery);
