(function(g){var f=function(d,a,b){if(!b){b=a;a={}}a=a||{};d=g.makeArray(d);var c=this;a.testIf&&!a.testIf.call(this)||g.each(d,function(e,h){c.validations[h]||(c.validations[h]=[]);c.validations[h].push(function(){var i=b.call(this,this[h]);return a.message||i})})};g.extend(g.Model,{validate:f,validateFormatOf:function(d,a,b){f.call(this,d,b,function(c){if(typeof c!="undefined"&&c!=""&&String(c).match(a)==null)return"is invalid"})},validateInclusionOf:function(d,a,b){f.call(this,d,b,function(c){if(typeof c!=
"undefined")if(g.grep(a,function(e){return e==c}).length==0)return"is not a valid option (perhaps out of range)"})},validateLengthOf:function(d,a,b,c){f.call(this,d,c,function(e){if(typeof e=="undefined"&&a>0||e.length<a)return"is too short (min="+a+")";else if(typeof e!="undefined"&&e.length>b)return"is too long (max="+b+")"})},validatePresenceOf:function(d,a){f.call(this,d,a,function(b){if(typeof b=="undefined"||b=="")return"can't be empty"})},validateRangeOf:function(d,a,b,c){f.call(this,d,c,function(e){if(typeof e!=
"undefined"&&e<a||e>b)return"is out of range ["+a+","+b+"]"})}})})(true);
