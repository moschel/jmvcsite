(function(e){var j=function(a){return a[0]!==undefined&&a[0].length&&typeof a[0]!="string"?a[0]:e.makeArray(a)};e.Class.extend("jQuery.Model.List",{init:function(a){this.length=0;this._data={};this.push.apply(this,e.makeArray(a||[]))},slice:function(){return new this.Class(Array.prototype.slice.apply(this,arguments))},match:function(a,b){return this.grep(function(c){return c[a]==b})},grep:function(a,b){return new this.Class(e.grep(this,a,b))},_makeData:function(){var a=this._data={};this.each(function(b,
c){a[c[c.Class.id]]=c})},get:function(){if(!this.length)return new this.Class([]);this._changed&&this._makeData();for(var a=[],b=this[0].Class.id,c=new RegExp(this[0].Class._fullName+"_([^ ]+)"),h,i,d=j(arguments),f=0;f<d.length;f++)(i=d[f].nodeName&&(h=d[f].className.match(c))?this._data[h[1]]:this._data[typeof d[f]=="string"?d[f]:d[f][b]])&&a.push(i);return new this.Class(a)},remove:function(a){if(!this.length)return[];var b=[],c=this[0].Class.id,h=new RegExp(this[0].Class._fullName+"_([^ ]+)"),
i;a=j(arguments);for(var d=0;d<this.length;){for(var f=this[d],k=false,g=0;g<a.length;g++){var l=a[g].nodeName&&(i=a[g].className.match(h))&&i[1]||(typeof a[g]=="string"?a[g]:a[g][c]);if(f[c]==l){b.push.apply(b,this.splice(d,1));a.splice(g,1);k=true;break}}k||d++}return new this.Class(b)},publish:function(a,b){OpenAjax.hub.publish(this.Class.shortName+"."+a,b)},elements:function(a){var b=e();this.each(function(){b.add("."+this.identity(),a)});return b}});e.each({push:[].push,pop:[].pop,shift:[].shift,
unshift:[].unshift,splice:[].splice,sort:[].sort},function(a,b){e.Model.List.prototype[a]=function(){this._changed=true;return b.apply(this,arguments)}});e.each(["each","map"],function(a,b){e.Model.List.prototype[b]=function(c,h){return e[b](this,c,h)}})})(true);
