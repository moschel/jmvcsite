(function(){var e=function(d){return d!==undefined?(this.array[0]=d):this.array[0]},i=function(d){return d!==undefined?(this.array[1]=d):this.array[1]};jQuery.Vector=function(){this.update(jQuery.makeArray(arguments))};jQuery.Vector.prototype={app:function(d){for(var a=[],b=0;b<this.array.length;b++)a.push(d(this.array[b]));return(new jQuery.Vector).update(a)},plus:function(){for(var d=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),b=new jQuery.Vector,
c=0;c<d.length;c++)a[c]=(a[c]?a[c]:0)+d[c];return b.update(a)},minus:function(){for(var d=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),b=new jQuery.Vector,c=0;c<d.length;c++)a[c]=(a[c]?a[c]:0)-d[c];return b.update(a)},equals:function(){for(var d=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),b=new jQuery.Vector,c=0;c<d.length;c++)if(a[c]!=d[c])return null;return b.update(a)},x:e,
width:e,y:i,height:i,top:i,left:e,toString:function(){return"("+this.array[0]+","+this.array[1]+")"},update:function(d){if(this.array)for(var a=0;a<this.array.length;a++)delete this.array[a];this.array=d;for(a=0;a<d.length;a++)this[a]=this.array[a];return this}};jQuery.Event.prototype.vector=function(){if(this.originalEvent.synthetic){var d=document.documentElement,a=document.body;return new jQuery.Vector(this.clientX+(d&&d.scrollLeft||a&&a.scrollLeft||0)-(d.clientLeft||0),this.clientY+(d&&d.scrollTop||
a&&a.scrollTop||0)-(d.clientTop||0))}else return new jQuery.Vector(this.pageX,this.pageY)};jQuery.fn.offsetv=function(){if(this[0]==window)return new jQuery.Vector(window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop);else{var d=this.offset();return new jQuery.Vector(d.left,d.top)}};jQuery.fn.dimensionsv=function(){return this[0]==window?new jQuery.Vector(this.width(),this.height()):new jQuery.Vector(this.outerWidth(),
this.outerHeight())};jQuery.fn.centerv=function(){return this.offsetv().plus(this.dimensionsv().app(function(d){return d/2}))};jQuery.fn.makePositioned=function(){return this.each(function(){var d=jQuery(this),a=d.css("position");if(!a||a=="static"){a={position:"relative"};if(window.opera){a.top="0px";a.left="0px"}d.css(a)}})}})(true);
(function(e){var i=jQuery.event,d=function(a,b,c){for(var h=0;h<b.length;h++){var g=b[h],f,j=g.indexOf(".")<0,k;if(!j){f=g.split(".");g=f.shift();k=new RegExp("(^|\\.)"+f.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}f=(a[g]||[]).slice(0);for(var m=0;m<f.length;m++){var l=f[m];if(!l.selector&&(j||k.test(l.namespace)))c(g,l.origHandler||l.handler)}}};i.find=function(a,b,c){a=e.data(a,"events");var h=[];if(!a)return h;if(c){if(!a.live)return[];a=a.live;for(var g=0;g<a.length;g++){var f=a[g];if(f.selector===
c&&e.inArray(f.origType,b)!==-1)h.push(f.origHandler||f.handler)}}else d(a,b,function(j,k){h.push(k)});return h};i.findBySelector=function(a,b){a=e.data(a,"events");var c={},h=function(g,f,j){g=c[g]||(c[g]={});(g[f]||(g[f]=[])).push(j)};if(!a)return c;e.each(a.live||[],function(g,f){if(e.inArray(f.origType,b)!==-1)h(f.selector,f.origType,f.origHandler||f.handler)});d(a,b,function(g,f){h("",g,f)});return c};e.fn.respondsTo=function(a){return this.length?i.find(this[0],e.isArray(a)?a:[a]).length>0:
false};e.fn.triggerHandled=function(a,b){a=typeof a=="string"?e.Event(a):a;this.trigger(a,b);return a.handled};i.setupHelper=function(a,b,c){if(!c){c=b;b=null}var h=function(f){if(f=f.selector||"")i.find(this,a,f).length||e(this).delegate(f,b,c);else i.find(this,a,f).length||i.add(this,b,c,{selector:f,delegate:this})},g=function(f){if(f=f.selector||"")i.find(this,a,f).length||e(this).undelegate(f,b,c);else i.find(this,a,f).length||i.remove(this,b,c,{selector:f,delegate:this})};e.each(a,function(){i.special[this]=
{add:h,remove:g,setup:function(){},teardown:function(){}}})}})(true);
(function(e){var i=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){var h=[this].concat(c,e.makeArray(arguments));return b.apply(a,h)}},d=e.event;e.Drag=function(){};e.extend(e.Drag,{lowerName:"drag",current:null,mousedown:function(a,b){if(!(!(a.button==0||a.button==1)||this.current)){var c=new e.Drag,h=a.liveFired||b,g=a.handleObj.selector,f=this;this.current=c;c.setup({element:b,delegate:a.liveFired||b,selector:a.handleObj.selector,moved:false,callbacks:{dragdown:d.find(h,
["dragdown"],g),draginit:d.find(h,["draginit"],g),dragover:d.find(h,["dragover"],g),dragmove:d.find(h,["dragmove"],g),dragout:d.find(h,["dragout"],g),dragend:d.find(h,["dragend"],g)},destroyed:function(){f.current=null}},a)}}});e.extend(e.Drag.prototype,{setup:function(a,b){e.extend(this,a);this.element=e(this.element);this.event=b;this.allowOtherDrags=this.moved=false;a=i(this,this.mousemove);var c=i(this,this.mouseup);this._mousemove=a;this._mouseup=c;e(document).bind("mousemove",a);e(document).bind("mouseup",
c);this.callEvents("down",this.element,b)||b.preventDefault()},destroy:function(){e(document).unbind("mousemove",this._mousemove);e(document).unbind("mouseup",this._mouseup);if(!this.moved)this.event=this.element=null;this.destroyed()},mousemove:function(a,b){if(!this.moved){this.init(this.element,b);this.moved=true}a=b.vector();this._start_position&&this._start_position.equals(a)||this.draw(a,b)},mouseup:function(a,b){this.moved&&this.end(b);this.destroy()},noSelection:function(){document.documentElement.onselectstart=
function(){return false};document.documentElement.unselectable="on";e(document.documentElement).css("-moz-user-select","none")},selection:function(){document.documentElement.onselectstart=function(){};document.documentElement.unselectable="off";e(document.documentElement).css("-moz-user-select","")},init:function(a,b){a=e(a);var c=this.movingElement=this.element=e(a);this._cancelled=false;this.event=b;this.mouseStartPosition=b.vector();this.mouseElementPosition=this.mouseStartPosition.minus(this.element.offsetv());
this.callEvents("init",a,b);if(this._cancelled!=true){this.startPosition=c!=this.movingElement?this.movingElement.offsetv():this.currentDelta();this.movingElement.makePositioned();this.oldZIndex=this.movingElement.css("zIndex");this.movingElement.css("zIndex",1E3);!this._only&&this.constructor.responder&&this.constructor.responder.compile(b,this)}},callEvents:function(a,b,c,h){a=this.callbacks[this.constructor.lowerName+a];for(var g=0;g<a.length;g++)a[g].call(b,c,this,h);return a.length},currentDelta:function(){return new e.Vector(parseInt(this.movingElement.css("left"))||
0,parseInt(this.movingElement.css("top"))||0)},draw:function(a,b){if(!this._cancelled){this.location=a.minus(this.mouseElementPosition);this.move(b);if(!this._cancelled){b.isDefaultPrevented()||this.position(this.location);!this._only&&this.constructor.responder&&this.constructor.responder.show(a,this,b)}}},position:function(a){var b=this.movingElement.offsetv(),c=this.currentDelta();b=b.minus(c);this.required_css_position=a.minus(b);a=this.movingElement[0].style;if(!this._cancelled&&!this._horizontal)a.top=
this.required_css_position.top()+"px";if(!this._cancelled&&!this._vertical)a.left=this.required_css_position.left()+"px"},move:function(a){this.callEvents("move",this.element,a)},over:function(a,b){this.callEvents("over",this.element,a,b)},out:function(a,b){this.callEvents("out",this.element,a,b)},end:function(a){if(!this._cancelled){!this._only&&this.constructor.responder&&this.constructor.responder.end(a,this);this.callEvents("end",this.element,a);if(this._revert){var b=this;this.movingElement.animate({top:this.startPosition.top()+
"px",left:this.startPosition.left()+"px"},function(){b.cleanup.apply(b,arguments)})}else this.cleanup();this.event=null}},cleanup:function(){this.movingElement.css({zIndex:this.oldZIndex});this.movingElement[0]!==this.element[0]&&this.movingElement.css({display:"none"});this._removeMovingElement&&this.movingElement.remove();this.movingElement=this.element=this.event=null},cancel:function(){this._cancelled=true;!this._only&&this.constructor.responder&&this.constructor.responder.clear(this.event.vector(),
this,this.event);this.destroy()},ghost:function(a){var b=this.movingElement.clone().css("position","absolute");(a?e(a):this.movingElement).after(b);b.width(this.movingElement.width()).height(this.movingElement.height());this.movingElement=b;this._removeMovingElement=true;return b},representative:function(a,b,c){this._offsetX=b||0;this._offsetY=c||0;b=this.mouseStartPosition;this.movingElement=e(a);this.movingElement.css({top:b.y()-this._offsetY+"px",left:b.x()-this._offsetX+"px",display:"block",position:"absolute"}).show();
this.mouseElementPosition=new e.Vector(this._offsetX,this._offsetY)},revert:function(a){this._revert=a==null?true:a},vertical:function(){this._vertical=true},horizontal:function(){this._horizontal=true},only:function(a){return this._only=a===undefined?true:a}});d.setupHelper(["dragdown","draginit","dragover","dragmove","dragout","dragend"],"mousedown",function(a){e.Drag.mousedown.call(e.Drag,a,this)})})(true);
