(function(){var f=function(b){return b!==undefined?(this.array[0]=b):this.array[0]},h=function(b){return b!==undefined?(this.array[1]=b):this.array[1]};jQuery.Vector=function(){this.update(jQuery.makeArray(arguments))};jQuery.Vector.prototype={app:function(b){for(var a=[],c=0;c<this.array.length;c++)a.push(b(this.array[c]));return(new jQuery.Vector).update(a)},plus:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),c=new jQuery.Vector,
d=0;d<b.length;d++)a[d]=(a[d]?a[d]:0)+b[d];return c.update(a)},minus:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),c=new jQuery.Vector,d=0;d<b.length;d++)a[d]=(a[d]?a[d]:0)-b[d];return c.update(a)},equals:function(){for(var b=arguments[0]instanceof jQuery.Vector?arguments[0].array:jQuery.makeArray(arguments),a=this.array.slice(0),c=new jQuery.Vector,d=0;d<b.length;d++)if(a[d]!=b[d])return null;return c.update(a)},x:f,
width:f,y:h,height:h,top:h,left:f,toString:function(){return"("+this.array[0]+","+this.array[1]+")"},update:function(b){if(this.array)for(var a=0;a<this.array.length;a++)delete this.array[a];this.array=b;for(a=0;a<b.length;a++)this[a]=this.array[a];return this}};jQuery.Event.prototype.vector=function(){if(this.originalEvent.synthetic){var b=document.documentElement,a=document.body;return new jQuery.Vector(this.clientX+(b&&b.scrollLeft||a&&a.scrollLeft||0)-(b.clientLeft||0),this.clientY+(b&&b.scrollTop||
a&&a.scrollTop||0)-(b.clientTop||0))}else return new jQuery.Vector(this.pageX,this.pageY)};jQuery.fn.offsetv=function(){if(this[0]==window)return new jQuery.Vector(window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop);else{var b=this.offset();return new jQuery.Vector(b.left,b.top)}};jQuery.fn.dimensionsv=function(){return this[0]==window?new jQuery.Vector(this.width(),this.height()):new jQuery.Vector(this.outerWidth(),
this.outerHeight())};jQuery.fn.centerv=function(){return this.offsetv().plus(this.dimensionsv().app(function(b){return b/2}))};jQuery.fn.makePositioned=function(){return this.each(function(){var b=jQuery(this),a=b.css("position");if(!a||a=="static"){a={position:"relative"};if(window.opera){a.top="0px";a.left="0px"}b.css(a)}})}})(jQuery);
(function(){var f=jQuery.event,h=function(b,a,c){for(var d=0;d<a.length;d++){var g=a[d],e,i=g.indexOf(".")<0,j;if(!i){e=g.split(".");g=e.shift();j=new RegExp("(^|\\.)"+e.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}e=(b[g]||[]).slice(0);for(var l=0;l<e.length;l++){var k=e[l];if(!k.selector&&(i||j.test(k.namespace)))c(g,k.origHandler||k.handler)}}};f.find=function(b,a,c){b=$.data(b,"events");var d=[];if(!b)return d;if(c){if(!b.live)return[];b=b.live;for(var g=0;g<b.length;g++){var e=b[g];if(e.selector===
c&&$.inArray(e.origType,a)!==-1)d.push(e.origHandler||e.handler)}}else h(b,a,function(i,j){d.push(j)});return d};f.findBySelector=function(b,a){b=$.data(b,"events");var c={},d=function(g,e,i){g=c[g]||(c[g]={});(g[e]||(g[e]=[])).push(i)};if(!b)return c;$.each(b.live||[],function(g,e){if($.inArray(e.origType,a)!==-1)d(e.selector,e.origType,e.origHandler||e.handler)});h(b,a,function(g,e){d("",g,e)});return c};$.fn.respondsTo=function(b){return this.length?f.find(this[0],$.isArray(b)?b:[b]).length>0:
false};$.fn.triggerHandled=function(b,a){b=typeof b=="string"?$.Event(b):b;this.trigger(b,a);return b.handled};f.setupHelper=function(b,a,c){if(!c){c=a;a=null}var d=function(e){if(e=e.selector||"")f.find(this,b,e).length||$(this).delegate(e,a,c);else f.find(this,b,e).length||f.add(this,a,c,{selector:e,delegate:this})},g=function(e){if(e=e.selector||"")f.find(this,b,e).length||$(this).undelegate(e,a,c);else f.find(this,b,e).length||f.remove(this,a,c,{selector:e,delegate:this})};$.each(b,function(){f.special[this]=
{add:d,remove:g,setup:function(){},teardown:function(){}}})}})(jQuery);
(function(f){var h=function(a,c){var d=Array.prototype.slice.call(arguments,2);return function(){var g=[this].concat(d,f.makeArray(arguments));return c.apply(a,g)}},b=f.event;f.Drag=function(){};f.extend(f.Drag,{lowerName:"drag",current:null,mousedown:function(a,c){if(!(!(a.button==0||a.button==1)||this.current)){var d=new f.Drag,g=a.liveFired||c,e=a.handleObj.selector,i=this;this.current=d;d.setup({element:c,delegate:a.liveFired||c,selector:a.handleObj.selector,moved:false,callbacks:{dragdown:b.find(g,
["dragdown"],e),draginit:b.find(g,["draginit"],e),dragover:b.find(g,["dragover"],e),dragmove:b.find(g,["dragmove"],e),dragout:b.find(g,["dragout"],e),dragend:b.find(g,["dragend"],e)},destroyed:function(){i.current=null}},a)}}});f.extend(f.Drag.prototype,{setup:function(a,c){f.extend(this,a);this.element=f(this.element);this.event=c;this.allowOtherDrags=this.moved=false;a=h(this,this.mousemove);var d=h(this,this.mouseup);this._mousemove=a;this._mouseup=d;f(document).bind("mousemove",a);f(document).bind("mouseup",
d);this.callEvents("down",this.element,c)||c.preventDefault()},destroy:function(){f(document).unbind("mousemove",this._mousemove);f(document).unbind("mouseup",this._mouseup);if(!this.moved)this.event=this.element=null;this.destroyed()},mousemove:function(a,c){if(!this.moved){this.init(this.element,c);this.moved=true}a=c.vector();this._start_position&&this._start_position.equals(a)||this.draw(a,c)},mouseup:function(a,c){this.moved&&this.end(c);this.destroy()},noSelection:function(){document.documentElement.onselectstart=
function(){return false};document.documentElement.unselectable="on";f(document.documentElement).css("-moz-user-select","none")},selection:function(){document.documentElement.onselectstart=function(){};document.documentElement.unselectable="off";f(document.documentElement).css("-moz-user-select","")},init:function(a,c){a=f(a);var d=this.movingElement=this.element=f(a);this._cancelled=false;this.event=c;this.mouseStartPosition=c.vector();this.mouseElementPosition=this.mouseStartPosition.minus(this.element.offsetv());
this.callEvents("init",a,c);if(this._cancelled!=true){this.startPosition=d!=this.movingElement?this.movingElement.offsetv():this.currentDelta();this.movingElement.makePositioned();this.oldZIndex=this.movingElement.css("zIndex");this.movingElement.css("zIndex",1E3);!this._only&&this.constructor.responder&&this.constructor.responder.compile(c,this)}},callEvents:function(a,c,d,g){a=this.callbacks[this.constructor.lowerName+a];for(var e=0;e<a.length;e++)a[e].call(c,d,this,g);return a.length},currentDelta:function(){return new f.Vector(parseInt(this.movingElement.css("left"))||
0,parseInt(this.movingElement.css("top"))||0)},draw:function(a,c){if(!this._cancelled){this.location=a.minus(this.mouseElementPosition);this.move(c);if(!this._cancelled){c.isDefaultPrevented()||this.position(this.location);!this._only&&this.constructor.responder&&this.constructor.responder.show(a,this,c)}}},position:function(a){var c=this.movingElement.offsetv(),d=this.currentDelta();c=c.minus(d);this.required_css_position=a.minus(c);a=this.movingElement[0].style;if(!this._cancelled&&!this._horizontal)a.top=
this.required_css_position.top()+"px";if(!this._cancelled&&!this._vertical)a.left=this.required_css_position.left()+"px"},move:function(a){this.callEvents("move",this.element,a)},over:function(a,c){this.callEvents("over",this.element,a,c)},out:function(a,c){this.callEvents("out",this.element,a,c)},end:function(a){if(!this._cancelled){!this._only&&this.constructor.responder&&this.constructor.responder.end(a,this);this.callEvents("end",this.element,a);if(this._revert){var c=this;this.movingElement.animate({top:this.startPosition.top()+
"px",left:this.startPosition.left()+"px"},function(){c.cleanup.apply(c,arguments)})}else this.cleanup();this.event=null}},cleanup:function(){this.movingElement.css({zIndex:this.oldZIndex});this.movingElement[0]!==this.element[0]&&this.movingElement.css({display:"none"});this._removeMovingElement&&this.movingElement.remove();this.movingElement=this.element=this.event=null},cancel:function(){this._cancelled=true;!this._only&&this.constructor.responder&&this.constructor.responder.clear(this.event.vector(),
this,this.event);this.destroy()},ghost:function(a){var c=this.movingElement.clone().css("position","absolute");(a?f(a):this.movingElement).after(c);c.width(this.movingElement.width()).height(this.movingElement.height());this.movingElement=c;this._removeMovingElement=true;return c},representative:function(a,c,d){this._offsetX=c||0;this._offsetY=d||0;c=this.mouseStartPosition;this.movingElement=f(a);this.movingElement.css({top:c.y()-this._offsetY+"px",left:c.x()-this._offsetX+"px",display:"block",position:"absolute"}).show();
this.mouseElementPosition=new f.Vector(this._offsetX,this._offsetY)},revert:function(a){this._revert=a==null?true:a},vertical:function(){this._vertical=true},horizontal:function(){this._horizontal=true},only:function(a){return this._only=a===undefined?true:a}});b.setupHelper(["dragdown","draginit","dragover","dragmove","dragout","dragend"],"mousedown",function(a){f.Drag.mousedown.call(f.Drag,a,this)})})(jQuery);
