(function(f){var n=document.defaultView&&document.defaultView.getComputedStyle,b=/([A-Z])/g,d=/-([a-z])/ig,a=function(c,o){return o.toUpperCase()},g=function(c){if(n)return n(c,null);else if(c.currentStyle)return c.currentStyle},k=/float/i,l=/^-?\d+(?:px)?$/i,m=/^-?\d/;f.curStyles=function(c,o){if(!c)return null;for(var q=g(c),h,i,p=c.style,j={},r=0,e,s;r<o.length;r++){e=o[r];h=e.replace(d,a);if(k.test(e)){e=jQuery.support.cssFloat?"float":"styleFloat";h="cssFloat"}if(n){e=e.replace(b,"-$1").toLowerCase();
i=q.getPropertyValue(e);if(e==="opacity"&&i==="")i="1";j[h]=i}else{i=e.replace(d,a);j[h]=q[e]||q[i];if(!l.test(j[h])&&m.test(j[h])){e=p.left;s=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;p.left=i==="fontSize"?"1em":j[h]||0;j[h]=p.pixelLeft+"px";p.left=e;c.runtimeStyle.left=s}}}return j};f.fn.curStyles=function(){return f.curStyles(this[0],f.makeArray(arguments))}})(jQuery);
(function(f){f.Drag.prototype.limit=function(b,d){var a=b.curStyles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft");a=new f.Vector(parseInt(a.borderLeftWidth,10)+parseInt(a.paddingLeft,10)||0,parseInt(a.borderTopWidth,10)+parseInt(a.paddingTop,10)||0);this._limit={offset:b.offsetv().plus(a),size:b.dimensionsv(),center:d};return this};var n=f.Drag.prototype.position;f.Drag.prototype.position=function(b){if(this._limit){var d=this._limit,a=d.center&&d.center.toLowerCase(),g=this.movingElement.dimensionsv("outer"),
k=a&&a!="x"?g.height()/2:0;a=a&&a!="y"?g.width()/2:0;var l=d.offset.top(),m=d.offset.left(),c=d.size.height();d=d.size.width();b.top()+k<l&&b.top(l-k);b.top()+g.height()-k>l+c&&b.top(l+c-g.height()+k);b.left()+a<m&&b.left(m-a);b.left()+g.width()-a>m+d&&b.left(m+d-g.left()+a)}n.call(this,b)}})(jQuery);
