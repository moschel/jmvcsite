(function(c){var i=c.Model.setup,g=function(a,b,d){a=a||[];a=typeof a=="string"?[a]:a;for(var e=0;e<a.length;e++)b[d].call(b,a[e])};c.Model.setup=function(){i.apply(this,arguments);g(this.associations.hasMany,this,"hasMany");g(this.associations.belongsTo,this,"belongsTo");delete this.associations.hasMany;delete this.associations.belongsTo};c.Model.belongsTo=function(a,b){b=b||c.String.camelize(a.match(/\w+$/)[0]);var d=c.String.capitalize(b),e=function(f){return this[b]=f==f.Class?f:c.Class.getObject(a).wrap(f)},
h=function(){return this[b]};e.doNotInhert=true;h.doNotInherit=true;this.prototype["set"+d]||(this.prototype["set"+d]=e);this.prototype["get"+d]||(this.prototype["get"+d]=h);this.associations[b]={belongsTo:a};return this};c.Model.hasMany=function(a,b){b=b||c.String.camelize(a.match(/\w+$/)[0])+"s";var d=c.String.capitalize(b);this.prototype["set"+d]||(this.prototype["set"+d]=function(e){return this[b]=e==e.Class?e:c.Class.getObject(a).wrapMany(e)});this.prototype["get"+d]||(this.prototype["get"+d]=
function(){return this[b]||c.Class.getObject(a).wrapMany([])});this.associations[b]={hasMany:a};return this}})(true);
