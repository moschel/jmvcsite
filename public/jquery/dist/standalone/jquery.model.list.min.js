(function(f){var k=function(b){return b[0]!==undefined&&b[0].length&&typeof b[0]!="string"?b[0]:f.makeArray(b)};f.Class.extend("jQuery.Model.List",{init:function(b){this.length=0;this._data={};this.push.apply(this,f.makeArray(b||[]))},slice:function(){return new this.Class(Array.prototype.slice.apply(this,arguments))},match:function(b,c){return this.grep(function(d){return d[b]==c})},grep:function(b,c){return new this.Class(f.grep(this,b,c))},_makeData:function(){var b=this._data={};this.each(function(c,
d){b[d[d.Class.id]]=d})},get:function(){if(!this.length)return new this.Class([]);this._changed&&this._makeData();for(var b=[],c=this[0].Class.id,d=new RegExp(this[0].Class._fullName+"_([^ ]+)"),i,j,e=k(arguments),g=0;g<e.length;g++)(j=e[g].nodeName&&(i=e[g].className.match(d))?this._data[i[1]]:this._data[typeof e[g]=="string"||typeof e[a]=="number"?e[g]:e[g][c]])&&b.push(j);return new this.Class(b)},remove:function(b){if(!this.length)return[];var c=[],d=this[0].Class.id,i=new RegExp(this[0].Class._fullName+
"_([^ ]+)"),j;b=k(arguments);for(var e=0;e<this.length;){for(var g=this[e],l=false,h=0;h<b.length;h++){var m=b[h].nodeName&&(j=b[h].className.match(i))&&j[1]||(typeof b[h]=="string"||typeof b[h]=="number"?b[h]:b[h][d]);if(g[d]==m){c.push.apply(c,this.splice(e,1));b.splice(h,1);l=true;break}}l||e++}return new this.Class(c)},publish:function(b,c){OpenAjax.hub.publish(this.Class.shortName+"."+b,c)},elements:function(b){var c=f();this.each(function(){c.add("."+this.identity(),b)});return c}});f.each({push:[].push,
pop:[].pop,shift:[].shift,unshift:[].unshift,splice:[].splice,sort:[].sort},function(b,c){f.Model.List.prototype[b]=function(){this._changed=true;return c.apply(this,arguments)}});f.each(["each","map"],function(b,c){f.Model.List.prototype[c]=function(d,i){return f[c](this,d,i)}})})(jQuery);
